{"code":"(this.webpackJsonpMorgan_site_project=this.webpackJsonpMorgan_site_project||[]).push([[33],{137:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"ion_route\",(function(){return s})),n.d(e,\"ion_route_redirect\",(function(){return c})),n.d(e,\"ion_router\",(function(){return L})),n.d(e,\"ion_router_link\",(function(){return N}));var r=n(0),o=n(11),i=n(21),u=n(22),a=n(156),s=function(){function t(t){Object(o.q)(this,t),this.ionRouteDataChanged=Object(o.i)(this,\"ionRouteDataChanged\",7),this.url=\"\"}return t.prototype.onUpdate=function(t){this.ionRouteDataChanged.emit(t)},t.prototype.onComponentProps=function(t,e){if(t!==e){var n=t?Object.keys(t):[],r=e?Object.keys(e):[];if(n.length===r.length)for(var o=0,i=n;o<i.length;o++){var u=i[o];if(t[u]!==e[u])return void this.onUpdate(t)}else this.onUpdate(t)}},t.prototype.connectedCallback=function(){this.ionRouteDataChanged.emit()},Object.defineProperty(t,\"watchers\",{get:function(){return{url:[\"onUpdate\"],component:[\"onUpdate\"],componentProps:[\"onComponentProps\"]}},enumerable:!1,configurable:!0}),t}(),c=function(){function t(t){Object(o.q)(this,t),this.ionRouteRedirectChanged=Object(o.i)(this,\"ionRouteRedirectChanged\",7)}return t.prototype.propDidChange=function(){this.ionRouteRedirectChanged.emit()},t.prototype.connectedCallback=function(){this.ionRouteRedirectChanged.emit()},Object.defineProperty(t,\"watchers\",{get:function(){return{from:[\"propDidChange\"],to:[\"propDidChange\"]}},enumerable:!1,configurable:!0}),t}(),h=\"root\",l=\"forward\",f=function(t){return\"/\"+t.filter((function(t){return t.length>0})).join(\"/\")},d=function(t){if(null==t)return[\"\"];var e=t.split(\"?\")[0].split(\"/\").map((function(t){return t.trim()})).filter((function(t){return t.length>0}));return 0===e.length?[\"\"]:e},p=function t(e,n,o,i,u,a){return void 0===u&&(u=!1),Object(r.b)(void 0,void 0,void 0,(function(){var s,c,l,f;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),s=v(e),i>=n.length||!s?[2,u]:[4,s.componentOnReady()];case 1:return r.sent(),c=n[i],[4,s.setRouteId(c.id,c.params,o,a)];case 2:return(l=r.sent()).changed&&(o=h,u=!0),[4,t(l.element,n,o,i+1,u,a)];case 3:return u=r.sent(),l.markVisible?[4,l.markVisible()]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2,u];case 6:return f=r.sent(),console.error(f),[2,!1];case 7:return[2]}}))}))},b=\":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet\",v=function(t){if(t){if(t.matches(b))return t;var e=t.querySelector(b);return e||void 0}},g=function(t,e){return e.find((function(e){return function(t,e){var n=e.from;if(void 0===e.to)return!1;if(n.length>t.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(\"*\"===o)return!0;if(o!==t[r])return!1}return n.length===t.length}(t,e)}))},m=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n&&t[r].toLowerCase()===e[r].id;r++);return r},y=function(t,e){for(var n,r=new R(t),o=!1,i=0;i<e.length;i++){var u=e[i].path;if(\"\"===u[0])o=!0;else{for(var a=0,s=u;a<s.length;a++){var c=s[a],h=r.next();if(\":\"===c[0]){if(\"\"===h)return null;((n=n||[])[i]||(n[i]={}))[c.slice(1)]=h}else if(h!==c)return null}o=!1}}return!o||o===(\"\"===r.next())?n?e.map((function(t,e){return{id:t.id,path:t.path,params:w(t.params,n[e])}})):e:null},w=function(t,e){return!t&&e?e:t&&!e?t:t&&e?Object.assign(Object.assign({},t),e):void 0},j=function(t,e){for(var n=null,r=0,o=0,i=e;o<i.length;o++){var u=i[o],a=y(t,u);if(null!==a){var s=O(a);s>r&&(r=s,n=a)}}return n},O=function(t){for(var e=1,n=1,r=0,o=t;r<o.length;r++)for(var i=0,u=o[r].path;i<u.length;i++){var a=u[i];\":\"===a[0]?e+=Math.pow(1,n):\"\"!==a&&(e+=Math.pow(2,n)),n++}return e},R=function(){function t(t){this.path=t.slice()}return t.prototype.next=function(){return this.path.length>0?this.path.shift():\"\"},t}(),C=function(t){return Array.from(t.children).filter((function(t){return\"ION-ROUTE-REDIRECT\"===t.tagName})).map((function(t){var e=E(t,\"to\");return{from:d(E(t,\"from\")),to:null==e?void 0:d(e)}}))},P=function(t){return S(k(t))},k=function t(e,n){return void 0===n&&(n=e),Array.from(n.children).filter((function(t){return\"ION-ROUTE\"===t.tagName&&t.component})).map((function(n){var r=E(n,\"component\");if(null==r)throw new Error(\"component missing in ion-route\");return{path:d(E(n,\"url\")),id:r.toLowerCase(),params:n.componentProps,beforeLeave:n.beforeLeave,beforeEnter:n.beforeEnter,children:t(e,n)}}))},E=function(t,e){return e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):null},S=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];D([],e,o)}return e},D=function t(e,n,r){var o=e.slice();if(o.push({id:r.id,path:r.path,params:r.params,beforeLeave:r.beforeLeave,beforeEnter:r.beforeEnter}),0!==r.children.length)for(var i=0,u=r.children;i<u.length;i++){t(o,n,u[i])}else n.push(o)},L=function(){function t(t){Object(o.q)(this,t),this.ionRouteWillChange=Object(o.i)(this,\"ionRouteWillChange\",7),this.ionRouteDidChange=Object(o.i)(this,\"ionRouteDidChange\",7),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root=\"/\",this.useHash=!0}return t.prototype.componentWillLoad=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return console.debug(\"[ion-router] router will load\"),[4,v(document.body)?Promise.resolve():new Promise((function(t){window.addEventListener(\"ionNavWillLoad\",t,{once:!0})}))];case 1:return t.sent(),console.debug(\"[ion-router] found nav\"),[4,this.onRoutesChanged()];case 2:return t.sent(),[2]}}))}))},t.prototype.componentDidLoad=function(){window.addEventListener(\"ionRouteRedirectChanged\",Object(u.k)(this.onRedirectChanged.bind(this),10)),window.addEventListener(\"ionRouteDataChanged\",Object(u.k)(this.onRoutesChanged.bind(this),100))},t.prototype.onPopState=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t=this.historyDirection(),e=this.getPath(),[4,this.runGuards(e)];case 1:return!0!==(n=r.sent())?(\"object\"===typeof n&&(e=d(n.redirect)),[2,!1]):(console.debug(\"[ion-router] URL changed -> update nav\",e,t),[2,this.writeNavStateRoot(e,t)])}}))}))},t.prototype.onBackButton=function(t){var e=this;t.detail.register(0,(function(t){e.back(),t()}))},t.prototype.canTransition=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.runGuards()];case 1:return!0!==(t=e.sent())?\"object\"===typeof t?[2,t.redirect]:[2,!1]:[2,!0]}}))}))},t.prototype.push=function(t,e,n){return void 0===e&&(e=\"forward\"),Object(r.b)(this,void 0,void 0,(function(){var o,i,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t.startsWith(\".\")&&(t=new URL(t,window.location.href).pathname),console.debug(\"[ion-router] URL pushed -> updating nav\",t,e),o=d(t),i=t.split(\"?\")[1],[4,this.runGuards(o)];case 1:if(!0!==(u=r.sent())){if(\"object\"!==typeof u)return[2,!1];o=d(u.redirect),i=u.redirect.split(\"?\")[1]}return this.setPath(o,e,i),[2,this.writeNavStateRoot(o,e,n)]}}))}))},t.prototype.back=function(){return window.history.back(),Promise.resolve(this.waitPromise)},t.prototype.printDebug=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return console.debug(\"CURRENT PATH\",this.getPath()),console.debug(\"PREVIOUS PATH\",this.previousPath),function(t){console.group(\"[ion-core] ROUTES[\"+t.length+\"]\");for(var e=function(t){var e=[];t.forEach((function(t){return e.push.apply(e,t.path)}));var n=t.map((function(t){return t.id}));console.debug(\"%c \"+f(e),\"font-weight: bold; padding-left: 20px\",\"=>\\t\",\"(\"+n.join(\", \")+\")\")},n=0,r=t;n<r.length;n++)e(r[n]);console.groupEnd()}(P(this.el)),function(t){console.group(\"[ion-core] REDIRECTS[\"+t.length+\"]\");for(var e=0,n=t;e<n.length;e++){var r=n[e];r.to&&console.debug(\"FROM: \",\"$c \"+f(r.from),\"font-weight: bold\",\" TO: \",\"$c \"+f(r.to),\"font-weight: bold\")}console.groupEnd()}(C(this.el)),[2]}))}))},t.prototype.navChanged=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,o,i,u,a;return Object(r.d)(this,(function(s){switch(s.label){case 0:return this.busy?(console.warn(\"[ion-router] router is busy, navChanged was cancelled\"),[2,!1]):[4,(c=window.document.body,Object(r.b)(void 0,void 0,void 0,(function(){var t,e,n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=[],n=c,r.label=1;case 1:return(e=v(n))?[4,e.getRouteId()]:[3,3];case 2:return(o=r.sent())?(n=o.element,o.element=void 0,t.push(o),[3,4]):[3,5];case 3:return[3,5];case 4:return[3,1];case 5:return[2,{ids:t,outlet:e}]}}))})))];case 1:return e=s.sent(),n=e.ids,o=e.outlet,i=P(this.el),(u=function(t,e){for(var n=null,r=0,o=t.map((function(t){return t.id})),i=0,u=e;i<u.length;i++){var a=u[i],s=m(o,a);s>r&&(n=a,r=s)}return n?n.map((function(e,n){return{id:e.id,path:e.path,params:w(e.params,t[n]&&t[n].params)}})):null}(n,i))?(a=function(t){for(var e=[],n=0,r=t;n<r.length;n++)for(var o=r[n],i=0,u=o.path;i<u.length;i++){var a=u[i];if(\":\"===a[0]){var s=o.params&&o.params[a.slice(1)];if(!s)return null;e.push(s)}else\"\"!==a&&e.push(a)}return e}(u))?(console.debug(\"[ion-router] nav changed -> update URL\",n,a),this.setPath(a,t),[4,this.safeWriteNavState(o,u,h,a,null,n.length)]):(console.warn(\"[ion-router] router could not match path because some required param is missing\"),[2,!1]):(console.warn(\"[ion-router] no matching URL for \",n.map((function(t){return t.id}))),[2,!1]);case 2:return s.sent(),[2,!0]}var c}))}))},t.prototype.onRedirectChanged=function(){var t=this.getPath();t&&g(t,C(this.el))&&this.writeNavStateRoot(t,h)},t.prototype.onRoutesChanged=function(){return this.writeNavStateRoot(this.getPath(),h)},t.prototype.historyDirection=function(){var t=window;null===t.history.state&&(this.state++,t.history.replaceState(this.state,t.document.title,t.document.location&&t.document.location.href));var e=t.history.state,n=this.lastState;return this.lastState=e,e>n||e>=n&&n>0?l:e<n?\"back\":h},t.prototype.writeNavStateRoot=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,u,a,s;return Object(r.d)(this,(function(r){return t?(o=C(this.el),i=g(t,o),u=null,i&&(this.setPath(i.to,e),u=i.from,t=i.to),a=P(this.el),(s=j(t,a))?[2,this.safeWriteNavState(document.body,s,e,t,u,0,n)]:(console.error(\"[ion-router] the path does not match any route\"),[2,!1])):(console.error(\"[ion-router] URL is not part of the routing set\"),[2,!1])}))}))},t.prototype.safeWriteNavState=function(t,e,n,o,i,u,a){return void 0===u&&(u=0),Object(r.b)(this,void 0,void 0,(function(){var s,c,h;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.lock()];case 1:s=r.sent(),c=!1,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.writeNavState(t,e,n,o,i,u,a)];case 3:return c=r.sent(),[3,5];case 4:return h=r.sent(),console.error(h),[3,5];case 5:return s(),[2,c]}}))}))},t.prototype.lock=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=this.waitPromise,this.waitPromise=new Promise((function(t){return e=t})),void 0===t?[3,2]:[4,t];case 1:n.sent(),n.label=2;case 2:return[2,e]}}))}))},t.prototype.runGuards=function(t,e){return void 0===t&&(t=this.getPath()),void 0===e&&(e=d(this.previousPath)),Object(r.b)(this,void 0,void 0,(function(){var n,o,i,u,a,s,c,h,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t&&e?(n=P(this.el),o=j(t,n),i=j(e,n),u=o&&o[o.length-1].beforeEnter,(a=i&&i[i.length-1].beforeLeave)?[4,a()]:[3,2]):[2,!0];case 1:return c=r.sent(),[3,3];case 2:c=!0,r.label=3;case 3:return!1===(s=c)||\"object\"===typeof s?[2,s]:u?[4,u()]:[3,5];case 4:return l=r.sent(),[3,6];case 5:l=!0,r.label=6;case 6:return!1===(h=l)||\"object\"===typeof h?[2,h]:[2,!0]}}))}))},t.prototype.writeNavState=function(t,e,n,o,i,u,a){return void 0===u&&(u=0),Object(r.b)(this,void 0,void 0,(function(){var s,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.busy?(console.warn(\"[ion-router] router is busy, transition was cancelled\"),[2,!1]):(this.busy=!0,(s=this.routeChangeEvent(o,i))&&this.ionRouteWillChange.emit(s),[4,p(t,e,n,u,!1,a)]);case 1:return c=r.sent(),this.busy=!1,c&&console.debug(\"[ion-router] route changed\",o),s&&this.ionRouteDidChange.emit(s),[2,c]}}))}))},t.prototype.setPath=function(t,e,n){this.state++,function(t,e,n,o,i,u,a){var s=f(Object(r.h)(d(e),o));n&&(s=\"#\"+s),void 0!==a&&(s=s+\"?\"+a),i===l?t.pushState(u,\"\",s):t.replaceState(u,\"\",s)}(window.history,this.root,this.useHash,t,e,this.state,n)},t.prototype.getPath=function(){return function(t,e,n){var r=t.pathname;if(n){var o=t.hash;r=\"#\"===o[0]?o.slice(1):\"\"}return function(t,e){if(t.length>e.length)return null;if(t.length<=1&&\"\"===t[0])return e;for(var n=0;n<t.length;n++)if(t[n].length>0&&t[n]!==e[n])return null;return e.length===t.length?[\"\"]:e.slice(t.length)}(d(e),d(r))}(window.location,this.root,this.useHash)},t.prototype.routeChangeEvent=function(t,e){var n=this.previousPath,r=f(t);return this.previousPath=r,r===n?null:{from:n,redirectedFrom:e?f(e):null,to:r}},Object.defineProperty(t.prototype,\"el\",{get:function(){return Object(o.m)(this)},enumerable:!1,configurable:!0}),t}(),N=function(){function t(t){var e=this;Object(o.q)(this,t),this.routerDirection=\"forward\",this.onClick=function(t){Object(a.d)(e.href,t,e.routerDirection,e.routerAnimation)}}return t.prototype.render=function(){var t,e=Object(i.b)(this),n={href:this.href,rel:this.rel,target:this.target};return Object(o.l)(o.c,{onClick:this.onClick,class:Object(a.a)(this.color,(t={},t[e]=!0,t[\"ion-activatable\"]=!0,t))},Object(o.l)(\"a\",Object.assign({},n),Object(o.l)(\"slot\",null)))},t}();N.style=\":host{--background:transparent;--color:var(--ion-color-primary, #3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}\"},156:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i})),n.d(e,\"b\",(function(){return u})),n.d(e,\"c\",(function(){return o})),n.d(e,\"d\",(function(){return s}));var r=n(0),o=function(t,e){return null!==e.closest(t)},i=function(t,e){var n;return\"string\"===typeof t&&t.length>0?Object.assign(((n={\"ion-color\":!0})[\"ion-color-\"+t]=!0,n),e):e},u=function(t){var e={};return function(t){return void 0!==t?(Array.isArray(t)?t:t.split(\" \")).filter((function(t){return null!=t})).map((function(t){return t.trim()})).filter((function(t){return\"\"!==t})):[]}(t).forEach((function(t){return e[t]=!0})),e},a=/^[a-z][a-z0-9+\\-.]*:/,s=function(t,e,n,o){return Object(r.b)(void 0,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){return null!=t&&\"#\"!==t[0]&&!a.test(t)&&(i=document.querySelector(\"ion-router\"))?(null!=e&&e.preventDefault(),[2,i.push(t,n,o)]):[2,!1]}))}))}}}]);","name":"static/js/33.567f1a65.chunk.js","map":{"version":3,"sources":["static/js/33.567f1a65.chunk.js"],"names":["this","push","137","module","__webpack_exports__","__webpack_require__","r","d","Route","RouteRedirect","Router","RouterLink","tslib__WEBPACK_IMPORTED_MODULE_0__","_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__","_ionic_global_23e7365a_js__WEBPACK_IMPORTED_MODULE_2__","_helpers_47d562d2_js__WEBPACK_IMPORTED_MODULE_3__","_theme_5641d27f_js__WEBPACK_IMPORTED_MODULE_4__","hostRef","Object","ionRouteDataChanged","url","prototype","onUpdate","newValue","emit","onComponentProps","oldValue","keys1","keys","keys2","length","_i","keys1_1","key","connectedCallback","defineProperty","get","component","componentProps","enumerable","configurable","ionRouteRedirectChanged","propDidChange","from","to","ROUTER_INTENT_NONE","ROUTER_INTENT_FORWARD","generatePath","segments","filter","s","join","parsePath","path","split","map","trim","writeNavState","root","chain","direction","index","changed","animation","outlet","route","result","e_1","_a","label","trys","searchNavNode","componentOnReady","sent","setRouteId","id","params","element","markVisible","console","error","QUERY","matches","querySelector","undefined","routeRedirect","routes","find","input","i","expected","matchesRedirect","matchesIDs","ids","len","Math","min","toLowerCase","matchesPath","inputPath","allparams","RouterSegments","matchesDefault","path_1","segment","data","next","slice","mergeParams","a","b","assign","routerPathToChain","chains","match","chains_2","matchedChain","score","computePriority","level","chain_2","_b","pow","shift","readRedirects","Array","children","el","tagName","readProp","readRoutes","flattenRouterTree","readRouteNodes","node","Error","beforeLeave","beforeEnter","prop","hasAttribute","getAttribute","nodes","nodes_1","flattenNode","class_1","ionRouteWillChange","ionRouteDidChange","previousPath","busy","state","lastState","useHash","componentWillLoad","debug","document","body","Promise","resolve","window","addEventListener","once","onRoutesChanged","componentDidLoad","onRedirectChanged","bind","onPopState","canProceed","historyDirection","getPath","runGuards","redirect","writeNavStateRoot","onBackButton","ev","_this","detail","register","processNextHandler","back","canTransition","queryString","startsWith","URL","location","href","pathname","setPath","history","waitPromise","printDebug","group","_loop_1","forEach","apply","routes_1","groupEnd","printRoutes","redirects","redirects_1","printRedirects","navChanged","warn","getRouteId","maxMatches","plainIDs","chains_1","routerIDsToChain","chain_1","param","chainToPath","safeWriteNavState","win","replaceState","title","redirectFrom","unlock","e_2","lock","p","toChain","fromChain","beforeEnterHook","beforeLeaveHook","canLeave","canEnter","_c","routeEvent","routeChangeEvent","pushState","writePath","loc","hash","prefix","removePrefix","readPath","redirectFromPath","redirectedFrom","routerDirection","onClick","routerAnimation","render","mode","attrs","rel","target","class","color","style","156","createColorClasses","getClassMap","hostContext","openURL","selector","closest","cssClassMap","ion-color","classes","isArray","c","getClassList","SCHEME","router","test","preventDefault"],"mappings":"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"},"input":"(this[\"webpackJsonpMorgan_site_project\"] = this[\"webpackJsonpMorgan_site_project\"] || []).push([[33],{\n\n/***/ 137:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_route\", function() { return Route; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_route_redirect\", function() { return RouteRedirect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_router\", function() { return Router; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_router_link\", function() { return RouterLink; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _index_92848855_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var _ionic_global_23e7365a_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);\n/* harmony import */ var _helpers_47d562d2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);\n/* harmony import */ var _theme_5641d27f_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(156);\n\n\n\n\n\n\nvar Route =\n/** @class */\nfunction () {\n  function Route(hostRef) {\n    Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* r */ \"q\"])(this, hostRef);\n    this.ionRouteDataChanged = Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* e */ \"i\"])(this, \"ionRouteDataChanged\", 7);\n    /**\n     * Relative path that needs to match in order for this route to apply.\n     *\n     * Accepts paths similar to expressjs so that you can define parameters\n     * in the url /foo/:bar where bar would be available in incoming props.\n     */\n\n    this.url = '';\n  }\n\n  Route.prototype.onUpdate = function (newValue) {\n    this.ionRouteDataChanged.emit(newValue);\n  };\n\n  Route.prototype.onComponentProps = function (newValue, oldValue) {\n    if (newValue === oldValue) {\n      return;\n    }\n\n    var keys1 = newValue ? Object.keys(newValue) : [];\n    var keys2 = oldValue ? Object.keys(oldValue) : [];\n\n    if (keys1.length !== keys2.length) {\n      this.onUpdate(newValue);\n      return;\n    }\n\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n      var key = keys1_1[_i];\n\n      if (newValue[key] !== oldValue[key]) {\n        this.onUpdate(newValue);\n        return;\n      }\n    }\n  };\n\n  Route.prototype.connectedCallback = function () {\n    this.ionRouteDataChanged.emit();\n  };\n\n  Object.defineProperty(Route, \"watchers\", {\n    get: function get() {\n      return {\n        \"url\": [\"onUpdate\"],\n        \"component\": [\"onUpdate\"],\n        \"componentProps\": [\"onComponentProps\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return Route;\n}();\n\nvar RouteRedirect =\n/** @class */\nfunction () {\n  function RouteRedirect(hostRef) {\n    Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* r */ \"q\"])(this, hostRef);\n    this.ionRouteRedirectChanged = Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* e */ \"i\"])(this, \"ionRouteRedirectChanged\", 7);\n  }\n\n  RouteRedirect.prototype.propDidChange = function () {\n    this.ionRouteRedirectChanged.emit();\n  };\n\n  RouteRedirect.prototype.connectedCallback = function () {\n    this.ionRouteRedirectChanged.emit();\n  };\n\n  Object.defineProperty(RouteRedirect, \"watchers\", {\n    get: function get() {\n      return {\n        \"from\": [\"propDidChange\"],\n        \"to\": [\"propDidChange\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RouteRedirect;\n}();\n\nvar ROUTER_INTENT_NONE = 'root';\nvar ROUTER_INTENT_FORWARD = 'forward';\nvar ROUTER_INTENT_BACK = 'back';\n\nvar generatePath = function generatePath(segments) {\n  var path = segments.filter(function (s) {\n    return s.length > 0;\n  }).join('/');\n  return '/' + path;\n};\n\nvar chainToPath = function chainToPath(chain) {\n  var path = [];\n\n  for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\n    var route = chain_1[_i];\n\n    for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\n      var segment = _b[_a];\n\n      if (segment[0] === ':') {\n        var param = route.params && route.params[segment.slice(1)];\n\n        if (!param) {\n          return null;\n        }\n\n        path.push(param);\n      } else if (segment !== '') {\n        path.push(segment);\n      }\n    }\n  }\n\n  return path;\n};\n\nvar writePath = function writePath(history, root, useHash, path, direction, state, queryString) {\n  var url = generatePath(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __spreadArrays */ \"h\"])(parsePath(root), path));\n\n  if (useHash) {\n    url = '#' + url;\n  }\n\n  if (queryString !== undefined) {\n    url = url + '?' + queryString;\n  }\n\n  if (direction === ROUTER_INTENT_FORWARD) {\n    history.pushState(state, '', url);\n  } else {\n    history.replaceState(state, '', url);\n  }\n};\n\nvar removePrefix = function removePrefix(prefix, path) {\n  if (prefix.length > path.length) {\n    return null;\n  }\n\n  if (prefix.length <= 1 && prefix[0] === '') {\n    return path;\n  }\n\n  for (var i = 0; i < prefix.length; i++) {\n    if (prefix[i].length > 0 && prefix[i] !== path[i]) {\n      return null;\n    }\n  }\n\n  if (path.length === prefix.length) {\n    return [''];\n  }\n\n  return path.slice(prefix.length);\n};\n\nvar readPath = function readPath(loc, root, useHash) {\n  var pathname = loc.pathname;\n\n  if (useHash) {\n    var hash = loc.hash;\n    pathname = hash[0] === '#' ? hash.slice(1) : '';\n  }\n\n  var prefix = parsePath(root);\n  var path = parsePath(pathname);\n  return removePrefix(prefix, path);\n};\n\nvar parsePath = function parsePath(path) {\n  if (path == null) {\n    return [''];\n  }\n\n  var removeQueryString = path.split('?')[0];\n  var segments = removeQueryString.split('/').map(function (s) {\n    return s.trim();\n  }).filter(function (s) {\n    return s.length > 0;\n  });\n\n  if (segments.length === 0) {\n    return [''];\n  } else {\n    return segments;\n  }\n};\n\nvar printRoutes = function printRoutes(routes) {\n  console.group(\"[ion-core] ROUTES[\" + routes.length + \"]\");\n\n  var _loop_1 = function _loop_1(chain) {\n    var path = [];\n    chain.forEach(function (r) {\n      return path.push.apply(path, r.path);\n    });\n    var ids = chain.map(function (r) {\n      return r.id;\n    });\n    console.debug(\"%c \" + generatePath(path), 'font-weight: bold; padding-left: 20px', '=>\\t', \"(\" + ids.join(', ') + \")\");\n  };\n\n  for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {\n    var chain = routes_1[_i];\n\n    _loop_1(chain);\n  }\n\n  console.groupEnd();\n};\n\nvar printRedirects = function printRedirects(redirects) {\n  console.group(\"[ion-core] REDIRECTS[\" + redirects.length + \"]\");\n\n  for (var _i = 0, redirects_1 = redirects; _i < redirects_1.length; _i++) {\n    var redirect = redirects_1[_i];\n\n    if (redirect.to) {\n      console.debug('FROM: ', \"$c \" + generatePath(redirect.from), 'font-weight: bold', ' TO: ', \"$c \" + generatePath(redirect.to), 'font-weight: bold');\n    }\n  }\n\n  console.groupEnd();\n};\n\nvar writeNavState = function writeNavState(root, chain, direction, index, changed, animation) {\n  if (changed === void 0) {\n    changed = false;\n  }\n\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var outlet, route, result, e_1;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          _a.trys.push([0, 6,, 7]);\n\n          outlet = searchNavNode(root); // make sure we can continue interacting the DOM, otherwise abort\n\n          if (index >= chain.length || !outlet) {\n            return [2\n            /*return*/\n            , changed];\n          }\n\n          return [4\n          /*yield*/\n          , outlet.componentOnReady()];\n\n        case 1:\n          _a.sent();\n\n          route = chain[index];\n          return [4\n          /*yield*/\n          , outlet.setRouteId(route.id, route.params, direction, animation)];\n\n        case 2:\n          result = _a.sent(); // if the outlet changed the page, reset navigation to neutral (no direction)\n          // this means nested outlets will not animate\n\n          if (result.changed) {\n            direction = ROUTER_INTENT_NONE;\n            changed = true;\n          }\n\n          return [4\n          /*yield*/\n          , writeNavState(result.element, chain, direction, index + 1, changed, animation)];\n\n        case 3:\n          // recursively set nested outlets\n          changed = _a.sent();\n          if (!result.markVisible) return [3\n          /*break*/\n          , 5];\n          return [4\n          /*yield*/\n          , result.markVisible()];\n\n        case 4:\n          _a.sent();\n\n          _a.label = 5;\n\n        case 5:\n          return [2\n          /*return*/\n          , changed];\n\n        case 6:\n          e_1 = _a.sent();\n          console.error(e_1);\n          return [2\n          /*return*/\n          , false];\n\n        case 7:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar readNavState = function readNavState(root) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var ids, outlet, node, id;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          ids = [];\n          node = root;\n          _a.label = 1;\n\n        case 1:\n          if (false) {}\n          outlet = searchNavNode(node);\n          if (!outlet) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , outlet.getRouteId()];\n\n        case 2:\n          id = _a.sent();\n\n          if (id) {\n            node = id.element;\n            id.element = undefined;\n            ids.push(id);\n          } else {\n            return [3\n            /*break*/\n            , 5];\n          }\n\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          return [3\n          /*break*/\n          , 5];\n\n        case 4:\n          return [3\n          /*break*/\n          , 1];\n\n        case 5:\n          return [2\n          /*return*/\n          , {\n            ids: ids,\n            outlet: outlet\n          }];\n      }\n    });\n  });\n};\n\nvar waitUntilNavNode = function waitUntilNavNode() {\n  if (searchNavNode(document.body)) {\n    return Promise.resolve();\n  }\n\n  return new Promise(function (resolve) {\n    window.addEventListener('ionNavWillLoad', resolve, {\n      once: true\n    });\n  });\n};\n\nvar QUERY = ':not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet';\n\nvar searchNavNode = function searchNavNode(root) {\n  if (!root) {\n    return undefined;\n  }\n\n  if (root.matches(QUERY)) {\n    return root;\n  }\n\n  var outlet = root.querySelector(QUERY);\n  return outlet ? outlet : undefined;\n};\n\nvar matchesRedirect = function matchesRedirect(input, route) {\n  var from = route.from,\n      to = route.to;\n\n  if (to === undefined) {\n    return false;\n  }\n\n  if (from.length > input.length) {\n    return false;\n  }\n\n  for (var i = 0; i < from.length; i++) {\n    var expected = from[i];\n\n    if (expected === '*') {\n      return true;\n    }\n\n    if (expected !== input[i]) {\n      return false;\n    }\n  }\n\n  return from.length === input.length;\n};\n\nvar routeRedirect = function routeRedirect(path, routes) {\n  return routes.find(function (route) {\n    return matchesRedirect(path, route);\n  });\n};\n\nvar matchesIDs = function matchesIDs(ids, chain) {\n  var len = Math.min(ids.length, chain.length);\n  var i = 0;\n\n  for (; i < len; i++) {\n    if (ids[i].toLowerCase() !== chain[i].id) {\n      break;\n    }\n  }\n\n  return i;\n};\n\nvar matchesPath = function matchesPath(inputPath, chain) {\n  var segments = new RouterSegments(inputPath);\n  var matchesDefault = false;\n  var allparams;\n\n  for (var i = 0; i < chain.length; i++) {\n    var path = chain[i].path;\n\n    if (path[0] === '') {\n      matchesDefault = true;\n    } else {\n      for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\n        var segment = path_1[_i];\n        var data = segments.next(); // data param\n\n        if (segment[0] === ':') {\n          if (data === '') {\n            return null;\n          }\n\n          allparams = allparams || [];\n          var params = allparams[i] || (allparams[i] = {});\n          params[segment.slice(1)] = data;\n        } else if (data !== segment) {\n          return null;\n        }\n      }\n\n      matchesDefault = false;\n    }\n  }\n\n  var matches = matchesDefault ? matchesDefault === (segments.next() === '') : true;\n\n  if (!matches) {\n    return null;\n  }\n\n  if (allparams) {\n    return chain.map(function (route, i) {\n      return {\n        id: route.id,\n        path: route.path,\n        params: mergeParams(route.params, allparams[i])\n      };\n    });\n  }\n\n  return chain;\n};\n\nvar mergeParams = function mergeParams(a, b) {\n  if (!a && b) {\n    return b;\n  } else if (a && !b) {\n    return a;\n  } else if (a && b) {\n    return Object.assign(Object.assign({}, a), b);\n  }\n\n  return undefined;\n};\n\nvar routerIDsToChain = function routerIDsToChain(ids, chains) {\n  var match = null;\n  var maxMatches = 0;\n  var plainIDs = ids.map(function (i) {\n    return i.id;\n  });\n\n  for (var _i = 0, chains_1 = chains; _i < chains_1.length; _i++) {\n    var chain = chains_1[_i];\n    var score = matchesIDs(plainIDs, chain);\n\n    if (score > maxMatches) {\n      match = chain;\n      maxMatches = score;\n    }\n  }\n\n  if (match) {\n    return match.map(function (route, i) {\n      return {\n        id: route.id,\n        path: route.path,\n        params: mergeParams(route.params, ids[i] && ids[i].params)\n      };\n    });\n  }\n\n  return null;\n};\n\nvar routerPathToChain = function routerPathToChain(path, chains) {\n  var match = null;\n  var matches = 0;\n\n  for (var _i = 0, chains_2 = chains; _i < chains_2.length; _i++) {\n    var chain = chains_2[_i];\n    var matchedChain = matchesPath(path, chain);\n\n    if (matchedChain !== null) {\n      var score = computePriority(matchedChain);\n\n      if (score > matches) {\n        matches = score;\n        match = matchedChain;\n      }\n    }\n  }\n\n  return match;\n};\n\nvar computePriority = function computePriority(chain) {\n  var score = 1;\n  var level = 1;\n\n  for (var _i = 0, chain_2 = chain; _i < chain_2.length; _i++) {\n    var route = chain_2[_i];\n\n    for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\n      var path = _b[_a];\n\n      if (path[0] === ':') {\n        score += Math.pow(1, level);\n      } else if (path !== '') {\n        score += Math.pow(2, level);\n      }\n\n      level++;\n    }\n  }\n\n  return score;\n};\n\nvar RouterSegments =\n/** @class */\nfunction () {\n  function RouterSegments(path) {\n    this.path = path.slice();\n  }\n\n  RouterSegments.prototype.next = function () {\n    if (this.path.length > 0) {\n      return this.path.shift();\n    }\n\n    return '';\n  };\n\n  return RouterSegments;\n}();\n\nvar readRedirects = function readRedirects(root) {\n  return Array.from(root.children).filter(function (el) {\n    return el.tagName === 'ION-ROUTE-REDIRECT';\n  }).map(function (el) {\n    var to = readProp(el, 'to');\n    return {\n      from: parsePath(readProp(el, 'from')),\n      to: to == null ? undefined : parsePath(to)\n    };\n  });\n};\n\nvar readRoutes = function readRoutes(root) {\n  return flattenRouterTree(readRouteNodes(root));\n};\n\nvar readRouteNodes = function readRouteNodes(root, node) {\n  if (node === void 0) {\n    node = root;\n  }\n\n  return Array.from(node.children).filter(function (el) {\n    return el.tagName === 'ION-ROUTE' && el.component;\n  }).map(function (el) {\n    var component = readProp(el, 'component');\n\n    if (component == null) {\n      throw new Error('component missing in ion-route');\n    }\n\n    return {\n      path: parsePath(readProp(el, 'url')),\n      id: component.toLowerCase(),\n      params: el.componentProps,\n      beforeLeave: el.beforeLeave,\n      beforeEnter: el.beforeEnter,\n      children: readRouteNodes(root, el)\n    };\n  });\n};\n\nvar readProp = function readProp(el, prop) {\n  if (prop in el) {\n    return el[prop];\n  }\n\n  if (el.hasAttribute(prop)) {\n    return el.getAttribute(prop);\n  }\n\n  return null;\n};\n\nvar flattenRouterTree = function flattenRouterTree(nodes) {\n  var routes = [];\n\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n    flattenNode([], routes, node);\n  }\n\n  return routes;\n};\n\nvar flattenNode = function flattenNode(chain, routes, node) {\n  var s = chain.slice();\n  s.push({\n    id: node.id,\n    path: node.path,\n    params: node.params,\n    beforeLeave: node.beforeLeave,\n    beforeEnter: node.beforeEnter\n  });\n\n  if (node.children.length === 0) {\n    routes.push(s);\n    return;\n  }\n\n  for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n    var sub = _a[_i];\n    flattenNode(s, routes, sub);\n  }\n};\n\nvar Router =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* r */ \"q\"])(this, hostRef);\n    this.ionRouteWillChange = Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* e */ \"i\"])(this, \"ionRouteWillChange\", 7);\n    this.ionRouteDidChange = Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* e */ \"i\"])(this, \"ionRouteDidChange\", 7);\n    this.previousPath = null;\n    this.busy = false;\n    this.state = 0;\n    this.lastState = 0;\n    /**\n     * By default `ion-router` will match the routes at the root path (\"/\").\n     * That can be changed when\n     *\n     */\n\n    this.root = '/';\n    /**\n     * The router can work in two \"modes\":\n     * - With hash: `/index.html#/path/to/page`\n     * - Without hash: `/path/to/page`\n     *\n     * Using one or another might depend in the requirements of your app and/or where it's deployed.\n     *\n     * Usually \"hash-less\" navigation works better for SEO and it's more user friendly too, but it might\n     * requires additional server-side configuration in order to properly work.\n     *\n     * On the otherside hash-navigation is much easier to deploy, it even works over the file protocol.\n     *\n     * By default, this property is `true`, change to `false` to allow hash-less URLs.\n     */\n\n    this.useHash = true;\n  }\n\n  class_1.prototype.componentWillLoad = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            console.debug('[ion-router] router will load');\n            return [4\n            /*yield*/\n            , waitUntilNavNode()];\n\n          case 1:\n            _a.sent();\n\n            console.debug('[ion-router] found nav');\n            return [4\n            /*yield*/\n            , this.onRoutesChanged()];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.componentDidLoad = function () {\n    window.addEventListener('ionRouteRedirectChanged', Object(_helpers_47d562d2_js__WEBPACK_IMPORTED_MODULE_3__[\"k\"])(this.onRedirectChanged.bind(this), 10));\n    window.addEventListener('ionRouteDataChanged', Object(_helpers_47d562d2_js__WEBPACK_IMPORTED_MODULE_3__[\"k\"])(this.onRoutesChanged.bind(this), 100));\n  };\n\n  class_1.prototype.onPopState = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var direction, path, canProceed;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            direction = this.historyDirection();\n            path = this.getPath();\n            return [4\n            /*yield*/\n            , this.runGuards(path)];\n\n          case 1:\n            canProceed = _a.sent();\n\n            if (canProceed !== true) {\n              if (typeof canProceed === 'object') {\n                path = parsePath(canProceed.redirect);\n              }\n\n              return [2\n              /*return*/\n              , false];\n            }\n\n            console.debug('[ion-router] URL changed -> update nav', path, direction);\n            return [2\n            /*return*/\n            , this.writeNavStateRoot(path, direction)];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.onBackButton = function (ev) {\n    var _this = this;\n\n    ev.detail.register(0, function (processNextHandler) {\n      _this.back();\n\n      processNextHandler();\n    });\n  };\n  /** @internal */\n\n\n  class_1.prototype.canTransition = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var canProceed;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.runGuards()];\n\n          case 1:\n            canProceed = _a.sent();\n\n            if (canProceed !== true) {\n              if (typeof canProceed === 'object') {\n                return [2\n                /*return*/\n                , canProceed.redirect];\n              } else {\n                return [2\n                /*return*/\n                , false];\n              }\n            }\n\n            return [2\n            /*return*/\n            , true];\n        }\n      });\n    });\n  };\n  /**\n   * Navigate to the specified URL.\n   *\n   * @param url The url to navigate to.\n   * @param direction The direction of the animation. Defaults to `\"forward\"`.\n   */\n\n\n  class_1.prototype.push = function (url, direction, animation) {\n    if (direction === void 0) {\n      direction = 'forward';\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var path, queryString, canProceed;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (url.startsWith('.')) {\n              url = new URL(url, window.location.href).pathname;\n            }\n\n            console.debug('[ion-router] URL pushed -> updating nav', url, direction);\n            path = parsePath(url);\n            queryString = url.split('?')[1];\n            return [4\n            /*yield*/\n            , this.runGuards(path)];\n\n          case 1:\n            canProceed = _a.sent();\n\n            if (canProceed !== true) {\n              if (typeof canProceed === 'object') {\n                path = parsePath(canProceed.redirect);\n                queryString = canProceed.redirect.split('?')[1];\n              } else {\n                return [2\n                /*return*/\n                , false];\n              }\n            }\n\n            this.setPath(path, direction, queryString);\n            return [2\n            /*return*/\n            , this.writeNavStateRoot(path, direction, animation)];\n        }\n      });\n    });\n  };\n  /**\n   * Go back to previous page in the window.history.\n   */\n\n\n  class_1.prototype.back = function () {\n    window.history.back();\n    return Promise.resolve(this.waitPromise);\n  };\n  /** @internal */\n\n\n  class_1.prototype.printDebug = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        console.debug('CURRENT PATH', this.getPath());\n        console.debug('PREVIOUS PATH', this.previousPath);\n        printRoutes(readRoutes(this.el));\n        printRedirects(readRedirects(this.el));\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n  /** @internal */\n\n\n  class_1.prototype.navChanged = function (direction) {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var _a, ids, outlet, routes, chain, path;\n\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (this.busy) {\n              console.warn('[ion-router] router is busy, navChanged was cancelled');\n              return [2\n              /*return*/\n              , false];\n            }\n\n            return [4\n            /*yield*/\n            , readNavState(window.document.body)];\n\n          case 1:\n            _a = _b.sent(), ids = _a.ids, outlet = _a.outlet;\n            routes = readRoutes(this.el);\n            chain = routerIDsToChain(ids, routes);\n\n            if (!chain) {\n              console.warn('[ion-router] no matching URL for ', ids.map(function (i) {\n                return i.id;\n              }));\n              return [2\n              /*return*/\n              , false];\n            }\n\n            path = chainToPath(chain);\n\n            if (!path) {\n              console.warn('[ion-router] router could not match path because some required param is missing');\n              return [2\n              /*return*/\n              , false];\n            }\n\n            console.debug('[ion-router] nav changed -> update URL', ids, path);\n            this.setPath(path, direction);\n            return [4\n            /*yield*/\n            , this.safeWriteNavState(outlet, chain, ROUTER_INTENT_NONE, path, null, ids.length)];\n\n          case 2:\n            _b.sent();\n\n            return [2\n            /*return*/\n            , true];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.onRedirectChanged = function () {\n    var path = this.getPath();\n\n    if (path && routeRedirect(path, readRedirects(this.el))) {\n      this.writeNavStateRoot(path, ROUTER_INTENT_NONE);\n    }\n  };\n\n  class_1.prototype.onRoutesChanged = function () {\n    return this.writeNavStateRoot(this.getPath(), ROUTER_INTENT_NONE);\n  };\n\n  class_1.prototype.historyDirection = function () {\n    var win = window;\n\n    if (win.history.state === null) {\n      this.state++;\n      win.history.replaceState(this.state, win.document.title, win.document.location && win.document.location.href);\n    }\n\n    var state = win.history.state;\n    var lastState = this.lastState;\n    this.lastState = state;\n\n    if (state > lastState || state >= lastState && lastState > 0) {\n      return ROUTER_INTENT_FORWARD;\n    } else if (state < lastState) {\n      return ROUTER_INTENT_BACK;\n    } else {\n      return ROUTER_INTENT_NONE;\n    }\n  };\n\n  class_1.prototype.writeNavStateRoot = function (path, direction, animation) {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var redirects, redirect, redirectFrom, routes, chain;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        if (!path) {\n          console.error('[ion-router] URL is not part of the routing set');\n          return [2\n          /*return*/\n          , false];\n        }\n\n        redirects = readRedirects(this.el);\n        redirect = routeRedirect(path, redirects);\n        redirectFrom = null;\n\n        if (redirect) {\n          this.setPath(redirect.to, direction);\n          redirectFrom = redirect.from;\n          path = redirect.to;\n        }\n\n        routes = readRoutes(this.el);\n        chain = routerPathToChain(path, routes);\n\n        if (!chain) {\n          console.error('[ion-router] the path does not match any route');\n          return [2\n          /*return*/\n          , false];\n        } // write DOM give\n\n\n        return [2\n        /*return*/\n        , this.safeWriteNavState(document.body, chain, direction, path, redirectFrom, 0, animation)];\n      });\n    });\n  };\n\n  class_1.prototype.safeWriteNavState = function (node, chain, direction, path, redirectFrom, index, animation) {\n    if (index === void 0) {\n      index = 0;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var unlock, changed, e_2;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.lock()];\n\n          case 1:\n            unlock = _a.sent();\n            changed = false;\n            _a.label = 2;\n\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n\n            return [4\n            /*yield*/\n            , this.writeNavState(node, chain, direction, path, redirectFrom, index, animation)];\n\n          case 3:\n            changed = _a.sent();\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            e_2 = _a.sent();\n            console.error(e_2);\n            return [3\n            /*break*/\n            , 5];\n\n          case 5:\n            unlock();\n            return [2\n            /*return*/\n            , changed];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.lock = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var p, resolve;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            p = this.waitPromise;\n            this.waitPromise = new Promise(function (r) {\n              return resolve = r;\n            });\n            if (!(p !== undefined)) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , p];\n\n          case 1:\n            _a.sent();\n\n            _a.label = 2;\n\n          case 2:\n            return [2\n            /*return*/\n            , resolve];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.runGuards = function (to, from) {\n    if (to === void 0) {\n      to = this.getPath();\n    }\n\n    if (from === void 0) {\n      from = parsePath(this.previousPath);\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var routes, toChain, fromChain, beforeEnterHook, beforeLeaveHook, canLeave, _a, canEnter, _b;\n\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            if (!to || !from) {\n              return [2\n              /*return*/\n              , true];\n            }\n\n            routes = readRoutes(this.el);\n            toChain = routerPathToChain(to, routes);\n            fromChain = routerPathToChain(from, routes);\n            beforeEnterHook = toChain && toChain[toChain.length - 1].beforeEnter;\n            beforeLeaveHook = fromChain && fromChain[fromChain.length - 1].beforeLeave;\n            if (!beforeLeaveHook) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , beforeLeaveHook()];\n\n          case 1:\n            _a = _c.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = true;\n            _c.label = 3;\n\n          case 3:\n            canLeave = _a;\n\n            if (canLeave === false || typeof canLeave === 'object') {\n              return [2\n              /*return*/\n              , canLeave];\n            }\n\n            if (!beforeEnterHook) return [3\n            /*break*/\n            , 5];\n            return [4\n            /*yield*/\n            , beforeEnterHook()];\n\n          case 4:\n            _b = _c.sent();\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            _b = true;\n            _c.label = 6;\n\n          case 6:\n            canEnter = _b;\n\n            if (canEnter === false || typeof canEnter === 'object') {\n              return [2\n              /*return*/\n              , canEnter];\n            }\n\n            return [2\n            /*return*/\n            , true];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.writeNavState = function (node, chain, direction, path, redirectFrom, index, animation) {\n    if (index === void 0) {\n      index = 0;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function () {\n      var routeEvent, changed;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (this.busy) {\n              console.warn('[ion-router] router is busy, transition was cancelled');\n              return [2\n              /*return*/\n              , false];\n            }\n\n            this.busy = true;\n            routeEvent = this.routeChangeEvent(path, redirectFrom);\n\n            if (routeEvent) {\n              this.ionRouteWillChange.emit(routeEvent);\n            }\n\n            return [4\n            /*yield*/\n            , writeNavState(node, chain, direction, index, false, animation)];\n\n          case 1:\n            changed = _a.sent();\n            this.busy = false;\n\n            if (changed) {\n              console.debug('[ion-router] route changed', path);\n            } // emit did change\n\n\n            if (routeEvent) {\n              this.ionRouteDidChange.emit(routeEvent);\n            }\n\n            return [2\n            /*return*/\n            , changed];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.setPath = function (path, direction, queryString) {\n    this.state++;\n    writePath(window.history, this.root, this.useHash, path, direction, this.state, queryString);\n  };\n\n  class_1.prototype.getPath = function () {\n    return readPath(window.location, this.root, this.useHash);\n  };\n\n  class_1.prototype.routeChangeEvent = function (path, redirectFromPath) {\n    var from = this.previousPath;\n    var to = generatePath(path);\n    this.previousPath = to;\n\n    if (to === from) {\n      return null;\n    }\n\n    var redirectedFrom = redirectFromPath ? generatePath(redirectFromPath) : null;\n    return {\n      from: from,\n      redirectedFrom: redirectedFrom,\n      to: to\n    };\n  };\n\n  Object.defineProperty(class_1.prototype, \"el\", {\n    get: function get() {\n      return Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* i */ \"m\"])(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_1;\n}();\n\nvar routerLinkCss = \":host{--background:transparent;--color:var(--ion-color-primary, #3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}\";\n\nvar RouterLink =\n/** @class */\nfunction () {\n  function RouterLink(hostRef) {\n    var _this = this;\n\n    Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* r */ \"q\"])(this, hostRef);\n    /**\n     * When using a router, it specifies the transition direction when navigating to\n     * another page using `href`.\n     */\n\n    this.routerDirection = 'forward';\n\n    this.onClick = function (ev) {\n      Object(_theme_5641d27f_js__WEBPACK_IMPORTED_MODULE_4__[/* o */ \"d\"])(_this.href, ev, _this.routerDirection, _this.routerAnimation);\n    };\n  }\n\n  RouterLink.prototype.render = function () {\n    var _a;\n\n    var mode = Object(_ionic_global_23e7365a_js__WEBPACK_IMPORTED_MODULE_2__[\"b\"])(this);\n    var attrs = {\n      href: this.href,\n      rel: this.rel,\n      target: this.target\n    };\n    return Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* h */ \"l\"])(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* H */ \"c\"], {\n      onClick: this.onClick,\n      class: Object(_theme_5641d27f_js__WEBPACK_IMPORTED_MODULE_4__[/* c */ \"a\"])(this.color, (_a = {}, _a[mode] = true, _a['ion-activatable'] = true, _a))\n    }, Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* h */ \"l\"])(\"a\", Object.assign({}, attrs), Object(_index_92848855_js__WEBPACK_IMPORTED_MODULE_1__[/* h */ \"l\"])(\"slot\", null)));\n  };\n\n  return RouterLink;\n}();\n\nRouterLink.style = routerLinkCss;\n\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createColorClasses; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getClassMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return hostContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return openURL; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n\n\nvar hostContext = function hostContext(selector, el) {\n  return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\n\n\nvar createColorClasses = function createColorClasses(color, cssClassMap) {\n  var _a;\n\n  return typeof color === 'string' && color.length > 0 ? Object.assign((_a = {\n    'ion-color': true\n  }, _a[\"ion-color-\" + color] = true, _a), cssClassMap) : cssClassMap;\n};\n\nvar getClassList = function getClassList(classes) {\n  if (classes !== undefined) {\n    var array = Array.isArray(classes) ? classes : classes.split(' ');\n    return array.filter(function (c) {\n      return c != null;\n    }).map(function (c) {\n      return c.trim();\n    }).filter(function (c) {\n      return c !== '';\n    });\n  }\n\n  return [];\n};\n\nvar getClassMap = function getClassMap(classes) {\n  var map = {};\n  getClassList(classes).forEach(function (c) {\n    return map[c] = true;\n  });\n  return map;\n};\n\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\n\nvar openURL = function openURL(url, ev, direction, animation) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var router;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n        router = document.querySelector('ion-router');\n\n        if (router) {\n          if (ev != null) {\n            ev.preventDefault();\n          }\n\n          return [2\n          /*return*/\n          , router.push(url, direction, animation)];\n        }\n      }\n\n      return [2\n      /*return*/\n      , false];\n    });\n  });\n};\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/drew/Documents/Development/Morgan_Site/MoShops/node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js","/Users/drew/Documents/Development/Morgan_Site/MoShops/node_modules/@ionic/core/dist/esm-es5/theme-5641d27f.js"],"names":["Route","hostRef","registerInstance","ionRouteDataChanged","createEvent","url","prototype","onUpdate","newValue","emit","onComponentProps","oldValue","keys1","Object","keys","keys2","length","_i","keys1_1","key","connectedCallback","defineProperty","get","enumerable","configurable","RouteRedirect","ionRouteRedirectChanged","propDidChange","ROUTER_INTENT_NONE","ROUTER_INTENT_FORWARD","ROUTER_INTENT_BACK","generatePath","segments","path","filter","s","join","chainToPath","chain","chain_1","route","_a","_b","segment","param","params","slice","push","writePath","history","root","useHash","direction","state","queryString","__spreadArrays","parsePath","undefined","pushState","replaceState","removePrefix","prefix","i","readPath","loc","pathname","hash","removeQueryString","split","map","trim","printRoutes","routes","console","group","_loop_1","forEach","r","apply","ids","id","debug","routes_1","groupEnd","printRedirects","redirects","redirects_1","redirect","to","from","writeNavState","index","changed","animation","__awaiter","outlet","result","e_1","__generator","label","trys","searchNavNode","componentOnReady","sent","setRouteId","element","markVisible","error","readNavState","node","getRouteId","waitUntilNavNode","document","body","Promise","resolve","window","addEventListener","once","QUERY","matches","querySelector","matchesRedirect","input","expected","routeRedirect","find","matchesIDs","len","Math","min","toLowerCase","matchesPath","inputPath","RouterSegments","matchesDefault","allparams","path_1","data","next","mergeParams","a","b","assign","routerIDsToChain","chains","match","maxMatches","plainIDs","chains_1","score","routerPathToChain","chains_2","matchedChain","computePriority","level","chain_2","pow","shift","readRedirects","Array","children","el","tagName","readProp","readRoutes","flattenRouterTree","readRouteNodes","component","Error","componentProps","beforeLeave","beforeEnter","prop","hasAttribute","getAttribute","nodes","nodes_1","flattenNode","sub","Router","class_1","ionRouteWillChange","ionRouteDidChange","previousPath","busy","lastState","componentWillLoad","onRoutesChanged","componentDidLoad","debounce","onRedirectChanged","bind","onPopState","canProceed","historyDirection","getPath","runGuards","writeNavStateRoot","onBackButton","ev","_this","detail","register","processNextHandler","back","canTransition","startsWith","URL","location","href","setPath","waitPromise","printDebug","navChanged","warn","safeWriteNavState","win","title","redirectFrom","unlock","e_2","lock","p","toChain","fromChain","beforeEnterHook","beforeLeaveHook","canLeave","canEnter","_c","routeEvent","routeChangeEvent","redirectFromPath","redirectedFrom","getElement","routerLinkCss","RouterLink","routerDirection","onClick","openURL","routerAnimation","render","mode","getIonMode","attrs","rel","target","h","Host","class","createColorClasses","color","style","hostContext","selector","closest","cssClassMap","getClassList","classes","array","isArray","c","getClassMap","SCHEME","router","test","preventDefault"],"mappings":"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","file":"x","sourcesContent":["import { __awaiter, __generator, __spreadArrays } from \"tslib\";\nimport { r as registerInstance, e as createEvent, i as getElement, h, H as Host } from './index-92848855.js';\nimport { b as getIonMode } from './ionic-global-23e7365a.js';\nimport { k as debounce } from './helpers-47d562d2.js';\nimport { o as openURL, c as createColorClasses } from './theme-5641d27f.js';\nvar Route = /** @class */ (function () {\n    function Route(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionRouteDataChanged = createEvent(this, \"ionRouteDataChanged\", 7);\n        /**\n         * Relative path that needs to match in order for this route to apply.\n         *\n         * Accepts paths similar to expressjs so that you can define parameters\n         * in the url /foo/:bar where bar would be available in incoming props.\n         */\n        this.url = '';\n    }\n    Route.prototype.onUpdate = function (newValue) {\n        this.ionRouteDataChanged.emit(newValue);\n    };\n    Route.prototype.onComponentProps = function (newValue, oldValue) {\n        if (newValue === oldValue) {\n            return;\n        }\n        var keys1 = newValue ? Object.keys(newValue) : [];\n        var keys2 = oldValue ? Object.keys(oldValue) : [];\n        if (keys1.length !== keys2.length) {\n            this.onUpdate(newValue);\n            return;\n        }\n        for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n            var key = keys1_1[_i];\n            if (newValue[key] !== oldValue[key]) {\n                this.onUpdate(newValue);\n                return;\n            }\n        }\n    };\n    Route.prototype.connectedCallback = function () {\n        this.ionRouteDataChanged.emit();\n    };\n    Object.defineProperty(Route, \"watchers\", {\n        get: function () {\n            return {\n                \"url\": [\"onUpdate\"],\n                \"component\": [\"onUpdate\"],\n                \"componentProps\": [\"onComponentProps\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Route;\n}());\nvar RouteRedirect = /** @class */ (function () {\n    function RouteRedirect(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionRouteRedirectChanged = createEvent(this, \"ionRouteRedirectChanged\", 7);\n    }\n    RouteRedirect.prototype.propDidChange = function () {\n        this.ionRouteRedirectChanged.emit();\n    };\n    RouteRedirect.prototype.connectedCallback = function () {\n        this.ionRouteRedirectChanged.emit();\n    };\n    Object.defineProperty(RouteRedirect, \"watchers\", {\n        get: function () {\n            return {\n                \"from\": [\"propDidChange\"],\n                \"to\": [\"propDidChange\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RouteRedirect;\n}());\nvar ROUTER_INTENT_NONE = 'root';\nvar ROUTER_INTENT_FORWARD = 'forward';\nvar ROUTER_INTENT_BACK = 'back';\nvar generatePath = function (segments) {\n    var path = segments\n        .filter(function (s) { return s.length > 0; })\n        .join('/');\n    return '/' + path;\n};\nvar chainToPath = function (chain) {\n    var path = [];\n    for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\n        var route = chain_1[_i];\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\n            var segment = _b[_a];\n            if (segment[0] === ':') {\n                var param = route.params && route.params[segment.slice(1)];\n                if (!param) {\n                    return null;\n                }\n                path.push(param);\n            }\n            else if (segment !== '') {\n                path.push(segment);\n            }\n        }\n    }\n    return path;\n};\nvar writePath = function (history, root, useHash, path, direction, state, queryString) {\n    var url = generatePath(__spreadArrays(parsePath(root), path));\n    if (useHash) {\n        url = '#' + url;\n    }\n    if (queryString !== undefined) {\n        url = url + '?' + queryString;\n    }\n    if (direction === ROUTER_INTENT_FORWARD) {\n        history.pushState(state, '', url);\n    }\n    else {\n        history.replaceState(state, '', url);\n    }\n};\nvar removePrefix = function (prefix, path) {\n    if (prefix.length > path.length) {\n        return null;\n    }\n    if (prefix.length <= 1 && prefix[0] === '') {\n        return path;\n    }\n    for (var i = 0; i < prefix.length; i++) {\n        if (prefix[i].length > 0 && prefix[i] !== path[i]) {\n            return null;\n        }\n    }\n    if (path.length === prefix.length) {\n        return [''];\n    }\n    return path.slice(prefix.length);\n};\nvar readPath = function (loc, root, useHash) {\n    var pathname = loc.pathname;\n    if (useHash) {\n        var hash = loc.hash;\n        pathname = (hash[0] === '#')\n            ? hash.slice(1)\n            : '';\n    }\n    var prefix = parsePath(root);\n    var path = parsePath(pathname);\n    return removePrefix(prefix, path);\n};\nvar parsePath = function (path) {\n    if (path == null) {\n        return [''];\n    }\n    var removeQueryString = path.split('?')[0];\n    var segments = removeQueryString.split('/')\n        .map(function (s) { return s.trim(); })\n        .filter(function (s) { return s.length > 0; });\n    if (segments.length === 0) {\n        return [''];\n    }\n    else {\n        return segments;\n    }\n};\nvar printRoutes = function (routes) {\n    console.group(\"[ion-core] ROUTES[\" + routes.length + \"]\");\n    var _loop_1 = function (chain) {\n        var path = [];\n        chain.forEach(function (r) { return path.push.apply(path, r.path); });\n        var ids = chain.map(function (r) { return r.id; });\n        console.debug(\"%c \" + generatePath(path), 'font-weight: bold; padding-left: 20px', '=>\\t', \"(\" + ids.join(', ') + \")\");\n    };\n    for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {\n        var chain = routes_1[_i];\n        _loop_1(chain);\n    }\n    console.groupEnd();\n};\nvar printRedirects = function (redirects) {\n    console.group(\"[ion-core] REDIRECTS[\" + redirects.length + \"]\");\n    for (var _i = 0, redirects_1 = redirects; _i < redirects_1.length; _i++) {\n        var redirect = redirects_1[_i];\n        if (redirect.to) {\n            console.debug('FROM: ', \"$c \" + generatePath(redirect.from), 'font-weight: bold', ' TO: ', \"$c \" + generatePath(redirect.to), 'font-weight: bold');\n        }\n    }\n    console.groupEnd();\n};\nvar writeNavState = function (root, chain, direction, index, changed, animation) {\n    if (changed === void 0) { changed = false; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var outlet, route, result, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 6, , 7]);\n                    outlet = searchNavNode(root);\n                    // make sure we can continue interacting the DOM, otherwise abort\n                    if (index >= chain.length || !outlet) {\n                        return [2 /*return*/, changed];\n                    }\n                    return [4 /*yield*/, outlet.componentOnReady()];\n                case 1:\n                    _a.sent();\n                    route = chain[index];\n                    return [4 /*yield*/, outlet.setRouteId(route.id, route.params, direction, animation)];\n                case 2:\n                    result = _a.sent();\n                    // if the outlet changed the page, reset navigation to neutral (no direction)\n                    // this means nested outlets will not animate\n                    if (result.changed) {\n                        direction = ROUTER_INTENT_NONE;\n                        changed = true;\n                    }\n                    return [4 /*yield*/, writeNavState(result.element, chain, direction, index + 1, changed, animation)];\n                case 3:\n                    // recursively set nested outlets\n                    changed = _a.sent();\n                    if (!result.markVisible) return [3 /*break*/, 5];\n                    return [4 /*yield*/, result.markVisible()];\n                case 4:\n                    _a.sent();\n                    _a.label = 5;\n                case 5: return [2 /*return*/, changed];\n                case 6:\n                    e_1 = _a.sent();\n                    console.error(e_1);\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    });\n};\nvar readNavState = function (root) { return __awaiter(void 0, void 0, void 0, function () {\n    var ids, outlet, node, id;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                ids = [];\n                node = root;\n                _a.label = 1;\n            case 1:\n                if (!true) return [3 /*break*/, 5];\n                outlet = searchNavNode(node);\n                if (!outlet) return [3 /*break*/, 3];\n                return [4 /*yield*/, outlet.getRouteId()];\n            case 2:\n                id = _a.sent();\n                if (id) {\n                    node = id.element;\n                    id.element = undefined;\n                    ids.push(id);\n                }\n                else {\n                    return [3 /*break*/, 5];\n                }\n                return [3 /*break*/, 4];\n            case 3: return [3 /*break*/, 5];\n            case 4: return [3 /*break*/, 1];\n            case 5: return [2 /*return*/, { ids: ids, outlet: outlet }];\n        }\n    });\n}); };\nvar waitUntilNavNode = function () {\n    if (searchNavNode(document.body)) {\n        return Promise.resolve();\n    }\n    return new Promise(function (resolve) {\n        window.addEventListener('ionNavWillLoad', resolve, { once: true });\n    });\n};\nvar QUERY = ':not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet';\nvar searchNavNode = function (root) {\n    if (!root) {\n        return undefined;\n    }\n    if (root.matches(QUERY)) {\n        return root;\n    }\n    var outlet = root.querySelector(QUERY);\n    return outlet ? outlet : undefined;\n};\nvar matchesRedirect = function (input, route) {\n    var from = route.from, to = route.to;\n    if (to === undefined) {\n        return false;\n    }\n    if (from.length > input.length) {\n        return false;\n    }\n    for (var i = 0; i < from.length; i++) {\n        var expected = from[i];\n        if (expected === '*') {\n            return true;\n        }\n        if (expected !== input[i]) {\n            return false;\n        }\n    }\n    return from.length === input.length;\n};\nvar routeRedirect = function (path, routes) {\n    return routes.find(function (route) { return matchesRedirect(path, route); });\n};\nvar matchesIDs = function (ids, chain) {\n    var len = Math.min(ids.length, chain.length);\n    var i = 0;\n    for (; i < len; i++) {\n        if (ids[i].toLowerCase() !== chain[i].id) {\n            break;\n        }\n    }\n    return i;\n};\nvar matchesPath = function (inputPath, chain) {\n    var segments = new RouterSegments(inputPath);\n    var matchesDefault = false;\n    var allparams;\n    for (var i = 0; i < chain.length; i++) {\n        var path = chain[i].path;\n        if (path[0] === '') {\n            matchesDefault = true;\n        }\n        else {\n            for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\n                var segment = path_1[_i];\n                var data = segments.next();\n                // data param\n                if (segment[0] === ':') {\n                    if (data === '') {\n                        return null;\n                    }\n                    allparams = allparams || [];\n                    var params = allparams[i] || (allparams[i] = {});\n                    params[segment.slice(1)] = data;\n                }\n                else if (data !== segment) {\n                    return null;\n                }\n            }\n            matchesDefault = false;\n        }\n    }\n    var matches = (matchesDefault)\n        ? matchesDefault === (segments.next() === '')\n        : true;\n    if (!matches) {\n        return null;\n    }\n    if (allparams) {\n        return chain.map(function (route, i) { return ({\n            id: route.id,\n            path: route.path,\n            params: mergeParams(route.params, allparams[i])\n        }); });\n    }\n    return chain;\n};\nvar mergeParams = function (a, b) {\n    if (!a && b) {\n        return b;\n    }\n    else if (a && !b) {\n        return a;\n    }\n    else if (a && b) {\n        return Object.assign(Object.assign({}, a), b);\n    }\n    return undefined;\n};\nvar routerIDsToChain = function (ids, chains) {\n    var match = null;\n    var maxMatches = 0;\n    var plainIDs = ids.map(function (i) { return i.id; });\n    for (var _i = 0, chains_1 = chains; _i < chains_1.length; _i++) {\n        var chain = chains_1[_i];\n        var score = matchesIDs(plainIDs, chain);\n        if (score > maxMatches) {\n            match = chain;\n            maxMatches = score;\n        }\n    }\n    if (match) {\n        return match.map(function (route, i) { return ({\n            id: route.id,\n            path: route.path,\n            params: mergeParams(route.params, ids[i] && ids[i].params)\n        }); });\n    }\n    return null;\n};\nvar routerPathToChain = function (path, chains) {\n    var match = null;\n    var matches = 0;\n    for (var _i = 0, chains_2 = chains; _i < chains_2.length; _i++) {\n        var chain = chains_2[_i];\n        var matchedChain = matchesPath(path, chain);\n        if (matchedChain !== null) {\n            var score = computePriority(matchedChain);\n            if (score > matches) {\n                matches = score;\n                match = matchedChain;\n            }\n        }\n    }\n    return match;\n};\nvar computePriority = function (chain) {\n    var score = 1;\n    var level = 1;\n    for (var _i = 0, chain_2 = chain; _i < chain_2.length; _i++) {\n        var route = chain_2[_i];\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\n            var path = _b[_a];\n            if (path[0] === ':') {\n                score += Math.pow(1, level);\n            }\n            else if (path !== '') {\n                score += Math.pow(2, level);\n            }\n            level++;\n        }\n    }\n    return score;\n};\nvar RouterSegments = /** @class */ (function () {\n    function RouterSegments(path) {\n        this.path = path.slice();\n    }\n    RouterSegments.prototype.next = function () {\n        if (this.path.length > 0) {\n            return this.path.shift();\n        }\n        return '';\n    };\n    return RouterSegments;\n}());\nvar readRedirects = function (root) {\n    return Array.from(root.children)\n        .filter(function (el) { return el.tagName === 'ION-ROUTE-REDIRECT'; })\n        .map(function (el) {\n        var to = readProp(el, 'to');\n        return {\n            from: parsePath(readProp(el, 'from')),\n            to: to == null ? undefined : parsePath(to),\n        };\n    });\n};\nvar readRoutes = function (root) {\n    return flattenRouterTree(readRouteNodes(root));\n};\nvar readRouteNodes = function (root, node) {\n    if (node === void 0) { node = root; }\n    return Array.from(node.children)\n        .filter(function (el) { return el.tagName === 'ION-ROUTE' && el.component; })\n        .map(function (el) {\n        var component = readProp(el, 'component');\n        if (component == null) {\n            throw new Error('component missing in ion-route');\n        }\n        return {\n            path: parsePath(readProp(el, 'url')),\n            id: component.toLowerCase(),\n            params: el.componentProps,\n            beforeLeave: el.beforeLeave,\n            beforeEnter: el.beforeEnter,\n            children: readRouteNodes(root, el)\n        };\n    });\n};\nvar readProp = function (el, prop) {\n    if (prop in el) {\n        return el[prop];\n    }\n    if (el.hasAttribute(prop)) {\n        return el.getAttribute(prop);\n    }\n    return null;\n};\nvar flattenRouterTree = function (nodes) {\n    var routes = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n        flattenNode([], routes, node);\n    }\n    return routes;\n};\nvar flattenNode = function (chain, routes, node) {\n    var s = chain.slice();\n    s.push({\n        id: node.id,\n        path: node.path,\n        params: node.params,\n        beforeLeave: node.beforeLeave,\n        beforeEnter: node.beforeEnter\n    });\n    if (node.children.length === 0) {\n        routes.push(s);\n        return;\n    }\n    for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n        var sub = _a[_i];\n        flattenNode(s, routes, sub);\n    }\n};\nvar Router = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionRouteWillChange = createEvent(this, \"ionRouteWillChange\", 7);\n        this.ionRouteDidChange = createEvent(this, \"ionRouteDidChange\", 7);\n        this.previousPath = null;\n        this.busy = false;\n        this.state = 0;\n        this.lastState = 0;\n        /**\n         * By default `ion-router` will match the routes at the root path (\"/\").\n         * That can be changed when\n         *\n         */\n        this.root = '/';\n        /**\n         * The router can work in two \"modes\":\n         * - With hash: `/index.html#/path/to/page`\n         * - Without hash: `/path/to/page`\n         *\n         * Using one or another might depend in the requirements of your app and/or where it's deployed.\n         *\n         * Usually \"hash-less\" navigation works better for SEO and it's more user friendly too, but it might\n         * requires additional server-side configuration in order to properly work.\n         *\n         * On the otherside hash-navigation is much easier to deploy, it even works over the file protocol.\n         *\n         * By default, this property is `true`, change to `false` to allow hash-less URLs.\n         */\n        this.useHash = true;\n    }\n    class_1.prototype.componentWillLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.debug('[ion-router] router will load');\n                        return [4 /*yield*/, waitUntilNavNode()];\n                    case 1:\n                        _a.sent();\n                        console.debug('[ion-router] found nav');\n                        return [4 /*yield*/, this.onRoutesChanged()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.componentDidLoad = function () {\n        window.addEventListener('ionRouteRedirectChanged', debounce(this.onRedirectChanged.bind(this), 10));\n        window.addEventListener('ionRouteDataChanged', debounce(this.onRoutesChanged.bind(this), 100));\n    };\n    class_1.prototype.onPopState = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var direction, path, canProceed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        direction = this.historyDirection();\n                        path = this.getPath();\n                        return [4 /*yield*/, this.runGuards(path)];\n                    case 1:\n                        canProceed = _a.sent();\n                        if (canProceed !== true) {\n                            if (typeof canProceed === 'object') {\n                                path = parsePath(canProceed.redirect);\n                            }\n                            return [2 /*return*/, false];\n                        }\n                        console.debug('[ion-router] URL changed -> update nav', path, direction);\n                        return [2 /*return*/, this.writeNavStateRoot(path, direction)];\n                }\n            });\n        });\n    };\n    class_1.prototype.onBackButton = function (ev) {\n        var _this = this;\n        ev.detail.register(0, function (processNextHandler) {\n            _this.back();\n            processNextHandler();\n        });\n    };\n    /** @internal */\n    class_1.prototype.canTransition = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var canProceed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.runGuards()];\n                    case 1:\n                        canProceed = _a.sent();\n                        if (canProceed !== true) {\n                            if (typeof canProceed === 'object') {\n                                return [2 /*return*/, canProceed.redirect];\n                            }\n                            else {\n                                return [2 /*return*/, false];\n                            }\n                        }\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    };\n    /**\n     * Navigate to the specified URL.\n     *\n     * @param url The url to navigate to.\n     * @param direction The direction of the animation. Defaults to `\"forward\"`.\n     */\n    class_1.prototype.push = function (url, direction, animation) {\n        if (direction === void 0) { direction = 'forward'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var path, queryString, canProceed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (url.startsWith('.')) {\n                            url = (new URL(url, window.location.href)).pathname;\n                        }\n                        console.debug('[ion-router] URL pushed -> updating nav', url, direction);\n                        path = parsePath(url);\n                        queryString = url.split('?')[1];\n                        return [4 /*yield*/, this.runGuards(path)];\n                    case 1:\n                        canProceed = _a.sent();\n                        if (canProceed !== true) {\n                            if (typeof canProceed === 'object') {\n                                path = parsePath(canProceed.redirect);\n                                queryString = canProceed.redirect.split('?')[1];\n                            }\n                            else {\n                                return [2 /*return*/, false];\n                            }\n                        }\n                        this.setPath(path, direction, queryString);\n                        return [2 /*return*/, this.writeNavStateRoot(path, direction, animation)];\n                }\n            });\n        });\n    };\n    /**\n     * Go back to previous page in the window.history.\n     */\n    class_1.prototype.back = function () {\n        window.history.back();\n        return Promise.resolve(this.waitPromise);\n    };\n    /** @internal */\n    class_1.prototype.printDebug = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                console.debug('CURRENT PATH', this.getPath());\n                console.debug('PREVIOUS PATH', this.previousPath);\n                printRoutes(readRoutes(this.el));\n                printRedirects(readRedirects(this.el));\n                return [2 /*return*/];\n            });\n        });\n    };\n    /** @internal */\n    class_1.prototype.navChanged = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, ids, outlet, routes, chain, path;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (this.busy) {\n                            console.warn('[ion-router] router is busy, navChanged was cancelled');\n                            return [2 /*return*/, false];\n                        }\n                        return [4 /*yield*/, readNavState(window.document.body)];\n                    case 1:\n                        _a = _b.sent(), ids = _a.ids, outlet = _a.outlet;\n                        routes = readRoutes(this.el);\n                        chain = routerIDsToChain(ids, routes);\n                        if (!chain) {\n                            console.warn('[ion-router] no matching URL for ', ids.map(function (i) { return i.id; }));\n                            return [2 /*return*/, false];\n                        }\n                        path = chainToPath(chain);\n                        if (!path) {\n                            console.warn('[ion-router] router could not match path because some required param is missing');\n                            return [2 /*return*/, false];\n                        }\n                        console.debug('[ion-router] nav changed -> update URL', ids, path);\n                        this.setPath(path, direction);\n                        return [4 /*yield*/, this.safeWriteNavState(outlet, chain, ROUTER_INTENT_NONE, path, null, ids.length)];\n                    case 2:\n                        _b.sent();\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    };\n    class_1.prototype.onRedirectChanged = function () {\n        var path = this.getPath();\n        if (path && routeRedirect(path, readRedirects(this.el))) {\n            this.writeNavStateRoot(path, ROUTER_INTENT_NONE);\n        }\n    };\n    class_1.prototype.onRoutesChanged = function () {\n        return this.writeNavStateRoot(this.getPath(), ROUTER_INTENT_NONE);\n    };\n    class_1.prototype.historyDirection = function () {\n        var win = window;\n        if (win.history.state === null) {\n            this.state++;\n            win.history.replaceState(this.state, win.document.title, win.document.location && win.document.location.href);\n        }\n        var state = win.history.state;\n        var lastState = this.lastState;\n        this.lastState = state;\n        if (state > lastState || (state >= lastState && lastState > 0)) {\n            return ROUTER_INTENT_FORWARD;\n        }\n        else if (state < lastState) {\n            return ROUTER_INTENT_BACK;\n        }\n        else {\n            return ROUTER_INTENT_NONE;\n        }\n    };\n    class_1.prototype.writeNavStateRoot = function (path, direction, animation) {\n        return __awaiter(this, void 0, void 0, function () {\n            var redirects, redirect, redirectFrom, routes, chain;\n            return __generator(this, function (_a) {\n                if (!path) {\n                    console.error('[ion-router] URL is not part of the routing set');\n                    return [2 /*return*/, false];\n                }\n                redirects = readRedirects(this.el);\n                redirect = routeRedirect(path, redirects);\n                redirectFrom = null;\n                if (redirect) {\n                    this.setPath(redirect.to, direction);\n                    redirectFrom = redirect.from;\n                    path = redirect.to;\n                }\n                routes = readRoutes(this.el);\n                chain = routerPathToChain(path, routes);\n                if (!chain) {\n                    console.error('[ion-router] the path does not match any route');\n                    return [2 /*return*/, false];\n                }\n                // write DOM give\n                return [2 /*return*/, this.safeWriteNavState(document.body, chain, direction, path, redirectFrom, 0, animation)];\n            });\n        });\n    };\n    class_1.prototype.safeWriteNavState = function (node, chain, direction, path, redirectFrom, index, animation) {\n        if (index === void 0) { index = 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            var unlock, changed, e_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.lock()];\n                    case 1:\n                        unlock = _a.sent();\n                        changed = false;\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.writeNavState(node, chain, direction, path, redirectFrom, index, animation)];\n                    case 3:\n                        changed = _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_2 = _a.sent();\n                        console.error(e_2);\n                        return [3 /*break*/, 5];\n                    case 5:\n                        unlock();\n                        return [2 /*return*/, changed];\n                }\n            });\n        });\n    };\n    class_1.prototype.lock = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var p, resolve;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        p = this.waitPromise;\n                        this.waitPromise = new Promise(function (r) { return resolve = r; });\n                        if (!(p !== undefined)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, p];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, resolve];\n                }\n            });\n        });\n    };\n    class_1.prototype.runGuards = function (to, from) {\n        if (to === void 0) { to = this.getPath(); }\n        if (from === void 0) { from = parsePath(this.previousPath); }\n        return __awaiter(this, void 0, void 0, function () {\n            var routes, toChain, fromChain, beforeEnterHook, beforeLeaveHook, canLeave, _a, canEnter, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!to || !from) {\n                            return [2 /*return*/, true];\n                        }\n                        routes = readRoutes(this.el);\n                        toChain = routerPathToChain(to, routes);\n                        fromChain = routerPathToChain(from, routes);\n                        beforeEnterHook = toChain && toChain[toChain.length - 1].beforeEnter;\n                        beforeLeaveHook = fromChain && fromChain[fromChain.length - 1].beforeLeave;\n                        if (!beforeLeaveHook) return [3 /*break*/, 2];\n                        return [4 /*yield*/, beforeLeaveHook()];\n                    case 1:\n                        _a = _c.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = true;\n                        _c.label = 3;\n                    case 3:\n                        canLeave = _a;\n                        if (canLeave === false || typeof canLeave === 'object') {\n                            return [2 /*return*/, canLeave];\n                        }\n                        if (!beforeEnterHook) return [3 /*break*/, 5];\n                        return [4 /*yield*/, beforeEnterHook()];\n                    case 4:\n                        _b = _c.sent();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        _b = true;\n                        _c.label = 6;\n                    case 6:\n                        canEnter = _b;\n                        if (canEnter === false || typeof canEnter === 'object') {\n                            return [2 /*return*/, canEnter];\n                        }\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    };\n    class_1.prototype.writeNavState = function (node, chain, direction, path, redirectFrom, index, animation) {\n        if (index === void 0) { index = 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            var routeEvent, changed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.busy) {\n                            console.warn('[ion-router] router is busy, transition was cancelled');\n                            return [2 /*return*/, false];\n                        }\n                        this.busy = true;\n                        routeEvent = this.routeChangeEvent(path, redirectFrom);\n                        if (routeEvent) {\n                            this.ionRouteWillChange.emit(routeEvent);\n                        }\n                        return [4 /*yield*/, writeNavState(node, chain, direction, index, false, animation)];\n                    case 1:\n                        changed = _a.sent();\n                        this.busy = false;\n                        if (changed) {\n                            console.debug('[ion-router] route changed', path);\n                        }\n                        // emit did change\n                        if (routeEvent) {\n                            this.ionRouteDidChange.emit(routeEvent);\n                        }\n                        return [2 /*return*/, changed];\n                }\n            });\n        });\n    };\n    class_1.prototype.setPath = function (path, direction, queryString) {\n        this.state++;\n        writePath(window.history, this.root, this.useHash, path, direction, this.state, queryString);\n    };\n    class_1.prototype.getPath = function () {\n        return readPath(window.location, this.root, this.useHash);\n    };\n    class_1.prototype.routeChangeEvent = function (path, redirectFromPath) {\n        var from = this.previousPath;\n        var to = generatePath(path);\n        this.previousPath = to;\n        if (to === from) {\n            return null;\n        }\n        var redirectedFrom = redirectFromPath ? generatePath(redirectFromPath) : null;\n        return {\n            from: from,\n            redirectedFrom: redirectedFrom,\n            to: to,\n        };\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nvar routerLinkCss = \":host{--background:transparent;--color:var(--ion-color-primary, #3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}\";\nvar RouterLink = /** @class */ (function () {\n    function RouterLink(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /**\n         * When using a router, it specifies the transition direction when navigating to\n         * another page using `href`.\n         */\n        this.routerDirection = 'forward';\n        this.onClick = function (ev) {\n            openURL(_this.href, ev, _this.routerDirection, _this.routerAnimation);\n        };\n    }\n    RouterLink.prototype.render = function () {\n        var _a;\n        var mode = getIonMode(this);\n        var attrs = {\n            href: this.href,\n            rel: this.rel,\n            target: this.target\n        };\n        return (h(Host, { onClick: this.onClick, class: createColorClasses(this.color, (_a = {},\n                _a[mode] = true,\n                _a['ion-activatable'] = true,\n                _a)) }, h(\"a\", Object.assign({}, attrs), h(\"slot\", null))));\n    };\n    return RouterLink;\n}());\nRouterLink.style = routerLinkCss;\nexport { Route as ion_route, RouteRedirect as ion_route_redirect, Router as ion_router, RouterLink as ion_router_link };\n","import { __awaiter, __generator } from \"tslib\";\nvar hostContext = function (selector, el) {\n    return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\nvar createColorClasses = function (color, cssClassMap) {\n    var _a;\n    return (typeof color === 'string' && color.length > 0) ? Object.assign((_a = { 'ion-color': true }, _a[\"ion-color-\" + color] = true, _a), cssClassMap) : cssClassMap;\n};\nvar getClassList = function (classes) {\n    if (classes !== undefined) {\n        var array = Array.isArray(classes) ? classes : classes.split(' ');\n        return array\n            .filter(function (c) { return c != null; })\n            .map(function (c) { return c.trim(); })\n            .filter(function (c) { return c !== ''; });\n    }\n    return [];\n};\nvar getClassMap = function (classes) {\n    var map = {};\n    getClassList(classes).forEach(function (c) { return map[c] = true; });\n    return map;\n};\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\nvar openURL = function (url, ev, direction, animation) { return __awaiter(void 0, void 0, void 0, function () {\n    var router;\n    return __generator(this, function (_a) {\n        if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n            router = document.querySelector('ion-router');\n            if (router) {\n                if (ev != null) {\n                    ev.preventDefault();\n                }\n                return [2 /*return*/, router.push(url, direction, animation)];\n            }\n        }\n        return [2 /*return*/, false];\n    });\n}); };\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\n"]}}