{"ast":null,"code":"import _slicedToArray from\"/Users/drew/Documents/Development/Morgan_Site/MoShops/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/drew/Documents/Development/Morgan_Site/MoShops/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/drew/Documents/Development/Morgan_Site/MoShops/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";// import firebase from 'firebase/app';\n// import 'firebase/database';\nimport React,{useReducer,useRef,useState}from'react';import{IonItem,IonInput,IonButton,IonLabel,IonProgressBar,IonImg,IonCard,IonCardHeader,IonCardSubtitle,IonCardTitle,IonCardContent,IonToast}from'@ionic/react';import useFirebaseUpload from\"../../hooks/useFirebaseUpload\";import firebase from'../../Firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var imageStateInitial={imageName:\"\",imageFullPath:\"\",imageDescription:\"test\",imageUrl:\"\"};var reducer=function reducer(state,action){switch(action.type){case'spread':return _objectSpread({},action.payload);case'dbReplace':return _objectSpread({},action.payload);default:return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.type,action.payload));}};var UploadImageCard=function UploadImageCard(_ref){var pageName=_ref.pageName;var _useFirebaseUpload=useFirebaseUpload(),_useFirebaseUpload2=_slicedToArray(_useFirebaseUpload,5),_useFirebaseUpload2$=_useFirebaseUpload2[0],dataResponse=_useFirebaseUpload2$.dataResponse,isLoading=_useFirebaseUpload2$.isLoading,isError=_useFirebaseUpload2$.isError,progress=_useFirebaseUpload2$.progress,setFileData=_useFirebaseUpload2[1],clearError=_useFirebaseUpload2[2],uploadImage=_useFirebaseUpload2[3],setFileName=_useFirebaseUpload2[4];var _useReducer=useReducer(reducer,imageStateInitial),_useReducer2=_slicedToArray(_useReducer,2),imageState=_useReducer2[0],imageDispatch=_useReducer2[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),imgName=_useState2[0],setImgName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),imgDescription=_useState4[0],setImgDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),imgPreview=_useState6[0],setImgPreview=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showToastSuccess=_useState8[0],setToastSuccess=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showToastError=_useState10[0],setToastError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),errorToastText=_useState12[0],setErrorToastText=_useState12[1];var database=firebase.fbApp.database();var onSubmitHandler=function onSubmitHandler(event){setFileName(imgName);var img=new Image();img.src=imgPreview;if(img.height!=0&&img.width!=0){uploadImage();pushNewImageEntry(img);}else{setToastError(true);setErrorToastText('Please pick a picture first');}};var onSelectFile=function onSelectFile(event,inputRef){//@ts-ignore\nvar image=inputRef.current.files[0];console.log(image);if(inputRef!=null&&image instanceof File){console.log('[onSelectFile]: inputref is a file');//@ts-ignore\nvar imgBlob=URL.createObjectURL(image);setFileData(image);setImgPreview(imgBlob);setImgName(image.name);setImgDescription(\"An image of \".concat(image.name));}else{console.log('[onSelectFile]: inputref is not a file, no file found');}};var onNameChangeHandler=function onNameChangeHandler(event){console.log(\"updating name\");setImgName(event.detail.value);};var onDescChangeHandler=function onDescChangeHandler(event){console.log(\"updating desc\");setImgDescription(event.detail.value);};var pushNewImageEntry=function pushNewImageEntry(img){img.src=imgPreview||'';database.ref('images/').push({imageDescription:imgDescription,imageName:imgName,imageFullPath:\"pictures/\".concat(imgName),imageWidth:img.width,imageHeight:img.height},function(error){if(error){console.log('[pushNewImageEntry] Upload Failed');console.log(error);console.log(error.name);console.log(error.message);setToastError(true);setErrorToastText(error.message);}else{console.log('[pushNewImageEntry] created entry successfully');setToastSuccess(true);setErrorToastText('success!!!');}});};var fileRef=useRef(null);return/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsxs(IonCardHeader,{children:[/*#__PURE__*/_jsx(IonCardTitle,{children:\"Upload\"}),/*#__PURE__*/_jsx(IonCardSubtitle,{children:\"Select an image to upload\"})]}),/*#__PURE__*/_jsxs(IonCardContent,{children:[/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(IonImg,{src:imgPreview})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(\"input\",{ref:fileRef,hidden:true,type:\"file\",accept:\"image/*\",onChange:function onChange(e){return onSelectFile(e,fileRef);},onClick:function onClick(){console.log('opening file selector');}}),/*#__PURE__*/_jsx(IonButton,{color:\"primary\",onClick:function onClick(){var _fileRef$current;//@ts-ignore\nfileRef===null||fileRef===void 0?void 0:(_fileRef$current=fileRef.current)===null||_fileRef$current===void 0?void 0:_fileRef$current.click();},children:\"Select Image\"})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\"Image Name: \"}),/*#__PURE__*/_jsx(IonInput,{value:imgName,onIonChange:onNameChangeHandler})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\"Image Description: \"}),/*#__PURE__*/_jsx(IonInput,{value:imgDescription,onIonChange:onDescChangeHandler})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonButton,{color:\"seccondary\",onClick:onSubmitHandler,children:\"Submit\"}),isLoading&&progress&&/*#__PURE__*/_jsx(IonProgressBar,{value:progress.value})]}),\"//@ts-ignore\",/*#__PURE__*/_jsx(IonToast,{isOpen:showToastSuccess,onDidDismiss:function onDidDismiss(){return setToastSuccess(false);},message:\"Success!\",duration:1200}),/*#__PURE__*/_jsx(IonToast,{isOpen:showToastError,onDidDismiss:function onDidDismiss(){return setToastError(false);},message:errorToastText,position:\"top\",duration:1200,buttons:[{//@ts-ignore\ntext:'Done',role:'cancel',handler:function handler(){console.log('Cancel clicked');setErrorToastText('none');}}]})]})]});};export default UploadImageCard;","map":{"version":3,"sources":["/Users/drew/Documents/Development/Morgan_Site/MoShops/src/components/CRUDcards/UploadImageCard.tsx"],"names":["React","useReducer","useRef","useState","IonItem","IonInput","IonButton","IonLabel","IonProgressBar","IonImg","IonCard","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCardContent","IonToast","useFirebaseUpload","firebase","imageStateInitial","imageName","imageFullPath","imageDescription","imageUrl","reducer","state","action","type","payload","UploadImageCard","pageName","dataResponse","isLoading","isError","progress","setFileData","clearError","uploadImage","setFileName","imageState","imageDispatch","imgName","setImgName","imgDescription","setImgDescription","imgPreview","setImgPreview","showToastSuccess","setToastSuccess","showToastError","setToastError","errorToastText","setErrorToastText","database","fbApp","onSubmitHandler","event","img","Image","src","height","width","pushNewImageEntry","onSelectFile","inputRef","image","current","files","console","log","File","imgBlob","URL","createObjectURL","name","onNameChangeHandler","detail","value","onDescChangeHandler","ref","push","imageWidth","imageHeight","error","message","fileRef","e","click","text","role","handler"],"mappings":"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","sourcesContent":["\n// import firebase from 'firebase/app';\n// import 'firebase/database';\nimport React, { useReducer, useRef, MutableRefObject, useState } from 'react';\nimport { IonItem, IonInput, IonButton, IonLabel, IonProgressBar, IonImg, IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCardContent, IonToast } from '@ionic/react';\nimport useFirebaseUpload from \"../../hooks/useFirebaseUpload\";\nimport firebase from '../../Firebase';\n\n\n\ninterface ContainerProps {\n    pageName: string;\n}\n\ninterface ImageItem {\n    imageName: String\n    imageFullPath: String\n    imageDescription: String\n    imageUrl: String\n\n}\n\n\nconst imageStateInitial: ImageItem = {\n    imageName: \"\",\n    imageFullPath: \"\",\n    imageDescription: \"test\",\n    imageUrl: \"\"\n}\n\nconst reducer = (state: any, action: any) => {\n    switch (action.type) {\n        case 'spread':\n            return {\n                ...action.payload\n            }\n        case 'dbReplace':\n            return {\n                ...action.payload\n            }\n        default:\n            return {\n                ...state,\n                [action.type]: action.payload\n            }\n    }\n}\n\nconst UploadImageCard: React.FC<ContainerProps> = ({ pageName }) => {\n    const [\n        { dataResponse, isLoading, isError, progress },\n        setFileData,\n        clearError,\n        uploadImage,\n        setFileName\n    ] = useFirebaseUpload();\n    const [imageState, imageDispatch] = useReducer(reducer, imageStateInitial)\n    const [imgName, setImgName] = useState<string>();\n    const [imgDescription, setImgDescription] = useState<string>();\n    const [imgPreview, setImgPreview] = useState<string>('');\n    const [showToastSuccess, setToastSuccess] = useState(false);\n    const [showToastError, setToastError] = useState(false);\n    const [errorToastText, setErrorToastText] = useState('');    \n    const database = firebase.fbApp.database()\n    const onSubmitHandler = (event: any) => {\n        setFileName(imgName);\n        const img = new Image();\n        img.src = imgPreview\n        if(img.height!=0 && img.width!=0){\n            uploadImage();\n            pushNewImageEntry(img);\n        } else {\n                setToastError(true)\n                setErrorToastText('Please pick a picture first')\n                \n            }\n        \n    }\n    const onSelectFile = (event: any, inputRef: MutableRefObject<null>) => {\n        //@ts-ignore\n        const image = inputRef.current.files[0]\n        console.log(image)\n\n        if (inputRef != null && image instanceof File) {\n            console.log('[onSelectFile]: inputref is a file')\n            //@ts-ignore\n            const imgBlob = URL.createObjectURL(image)\n            setFileData(image);\n            setImgPreview(imgBlob);\n            setImgName(image.name);\n            setImgDescription(`An image of ${image.name}`)\n        } else {\n            console.log('[onSelectFile]: inputref is not a file, no file found')\n        }\n    }\n    const onNameChangeHandler = (event:any) => {\n        console.log(`updating name`);\n        setImgName(event.detail.value)\n    }\n    const onDescChangeHandler = (event:any) => {\n        console.log(`updating desc`);\n        setImgDescription(event.detail.value)\n    }\n    const pushNewImageEntry = (img:HTMLImageElement) => {\n       \n            img.src = imgPreview || ''\n            database.ref('images/').push({\n                imageDescription: imgDescription,\n                imageName: imgName,\n                imageFullPath: `pictures/${imgName}`,\n                imageWidth: img.width,\n                imageHeight: img.height\n            }, function (error) {\n                if (error) {\n                    console.log('[pushNewImageEntry] Upload Failed')\n                    console.log(error)\n                    console.log(error.name)\n                    console.log(error.message)\n                    setToastError(true)\n                    setErrorToastText(error.message)\n                } else {\n                    console.log('[pushNewImageEntry] created entry successfully')\n                    setToastSuccess(true)\n                    setErrorToastText('success!!!')\n                }\n            })\n        } \n    const fileRef = useRef(null)\n    return (\n        <IonCard>\n            <IonCardHeader>\n                <IonCardTitle>Upload</IonCardTitle>\n                <IonCardSubtitle>Select an image to upload</IonCardSubtitle>\n            </IonCardHeader>\n            <IonCardContent>\n                <IonItem>\n                    <IonImg src={imgPreview} />\n                </IonItem>\n                <IonItem>\n                    <input ref={fileRef} hidden type=\"file\" accept=\"image/*\" onChange={(e) => onSelectFile(e, fileRef)} onClick={() => { console.log('opening file selector') }} />\n                    <IonButton color=\"primary\"\n                        onClick={\n                            () => {\n                                //@ts-ignore\n                                fileRef?.current?.click();\n                            }\n                    }>\n                    Select Image\n                    </IonButton>\n                </IonItem>\n                <IonItem>\n                    <IonLabel>Image Name: </IonLabel>\n                    <IonInput value={imgName} onIonChange={onNameChangeHandler}></IonInput>\n                </IonItem>\n                <IonItem>\n                    <IonLabel>Image Description: </IonLabel>\n                    <IonInput value={imgDescription} onIonChange={onDescChangeHandler}></IonInput>\n                </IonItem>\n                <IonItem>\n                    <IonButton\n                        color=\"seccondary\" onClick={onSubmitHandler}>\n                        Submit\n                        </IonButton>\n                    {/* get loading information from hook and display progress if necessary */}\n                    {isLoading && progress && (\n                        <IonProgressBar value={progress.value}></IonProgressBar>\n                    )}\n                </IonItem>\n                //@ts-ignore\n                <IonToast\n                    isOpen={showToastSuccess}\n                    onDidDismiss={() => setToastSuccess(false)}\n                    message=\"Success!\"\n                    duration={1200}\n                />\n                 <IonToast\n                    isOpen={showToastError}\n                    onDidDismiss={() => setToastError(false)}\n                    message={errorToastText}\n                    position=\"top\"\n                    duration={1200}\n                    buttons={[\n                    \n                    {\n                        //@ts-ignore\n                        text: 'Done',\n                        role: 'cancel',\n                        handler: () => {\n                        console.log('Cancel clicked');\n                        setErrorToastText('none')\n                        }\n                    }\n                    ]}\n                />\n            </IonCardContent>\n        </IonCard>\n    )\n}\nexport default UploadImageCard;"]},"metadata":{},"sourceType":"module"}